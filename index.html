<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Sách Mẹo Nhớ Huyệt - Landing Page Chuyên Nghiệp</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sách Mẹo Nhớ Huyệt giúp bạn dễ dàng ghi nhớ vị trí huyệt đạo và ứng dụng bấm huyệt chăm sóc sức khỏe tại nhà. Ưu đãi đặc biệt, Freeship toàn quốc.">
    <meta name="keywords" content="mẹo nhớ huyệt, sách đông y, bấm huyệt, huyệt đạo, chăm sóc sức khỏe, y học cổ truyền">

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap" rel="stylesheet">

    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1709833452952856'); // Replace with your Pixel ID
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=1709833452952856&ev=PageView&noscript=1" // Replace with your Pixel ID
    /></noscript>
    <style>
        html { scroll-behavior: smooth; }
        body { font-family: 'Roboto', Arial, sans-serif; background-color: #f7f8fc; /* Slightly different background */ }

        /* Slider Styling */
        .slider { position:relative; overflow: hidden; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .slider img { display: block; max-height: 350px; object-fit:cover; width: 100%; transition: opacity 0.5s ease-in-out; } /* Use opacity for smoother transition */
        .slider:hover img { /* transform: scale(1.03); Optional hover effect */ }
        .slider-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.6); /* Darker background */
            color: #fff;
            border: none;
            border-radius: 50%; /* Fully rounded */
            width: 40px; /* Larger buttons */
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.2s ease, transform 0.2s ease;
            z-index: 10;
        }
        .slider-btn:hover { background: rgba(0, 0, 0, 0.8); transform: translateY(-50%) scale(1.1); }
        #slider-prev { left: 10px; }
        #slider-next { right: 10px; }

        /* Floating CTA Button */
        .floating-btn {
            position: fixed;
            bottom: 20px; /* Adjusted position */
            right: 20px;
            z-index: 100;
            background: linear-gradient(45deg, #ef4444, #dc2626); /* Gradient background */
            color: #fff;
            border-radius: 9999px;
            padding: 14px 24px; /* Adjusted padding */
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4); /* Enhanced shadow */
            font-size: 18px; /* Adjusted font size */
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .floating-btn:hover {
            transform: scale(1.05) translateY(-2px); /* More noticeable hover effect */
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.5);
        }
        .floating-btn .fa-cart-plus { animation: bounceCart 1.5s infinite ease-in-out; }

        /* Marquee Styling */
        .marquee { overflow:hidden; white-space:nowrap; background-color: #e0f2fe; /* Light blue background */ padding: 8px 0; border-radius: 8px; }
        .marquee span { display:inline-block; padding: 0 24px; /* Adjusted padding */ color:#0c4a6e; /* Darker blue text */ font-weight: 500; animation: marqueeAnim 20s linear infinite; }
        .marquee span i { margin-right: 6px; }

        /* Countdown Timer Styling */
        #timer { display: flex; align-items: center; gap: 8px; /* Use gap for spacing */ }
        .timer-item { display: flex; flex-direction: column; align-items: center; background-color: #fee2e2; /* Light red background */ padding: 5px 8px; border-radius: 6px; box-shadow: inset 0 1px 2px rgba(0,0,0,0.1); min-width: 40px; /* Ensure minimum width */ }
        .timer-digit { font-size: 1.6rem; /* Slightly smaller */ font-weight: 700; color: #dc2626; /* Stronger red */ line-height: 1.1; }
        .timer-label { font-size: .7rem; /* Slightly smaller */ color: #7f1d1d; /* Darker red text */ text-transform: uppercase; letter-spacing: 0.5px; }
        .timer-separator { font-size: 1.5rem; color: #ef4444; font-weight: bold; padding-bottom: 10px; /* Align with digits */ }

        /* Form Styling */
        #order-form label { font-weight: 600; /* Bolder labels */ color: #374151; /* Darker gray */}
        #order-form input, #order-form select, #order-form textarea {
            border: 1px solid #d1d5db; /* Standard border */
            border-radius: 8px; /* More rounded */
            padding: 10px 12px;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
            width: 100%; /* Ensure full width */
        }
        #order-form input:focus, #order-form select:focus, #order-form textarea:focus {
            outline: none;
            border-color: #fb7185; /* Rose color focus */
            box-shadow: 0 0 0 3px rgba(251, 113, 133, 0.3);
        }
        #order-form select { appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E"); background-position: right 0.5rem center; background-repeat: no-repeat; background-size: 1.5em 1.5em; padding-right: 2.5rem; }
        #order-form button[type='submit'] {
            background: linear-gradient(45deg, #f43f5e, #be123c); /* Red gradient */
            transition: background 0.3s ease, transform 0.1s ease;
            box-shadow: 0 4px 10px rgba(225, 29, 72, 0.3);
            font-weight: 700; /* Bolder text */
            width: 100%; /* Full width button */
            padding-top: 12px;
            padding-bottom: 12px;
            border-radius: 9999px; /* Pill shape */
            color: white;
            font-size: 1.1rem;
        }
        #order-form button[type='submit']:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(225, 29, 72, 0.4);
        }
        #final_address { background-color: #f3f4f6; cursor: not-allowed; border-radius: 8px; padding: 10px 12px; font-size: 0.9em; color: #4b5563; } /* Visually indicate readonly */

        /* Success/Error Message Styling */
        #form-success, #form-error { border-radius: 8px; padding: 12px 16px; margin-top: 16px; font-size: 0.95em; }
        #form-success { border: 1px solid #10b981; background-color: #d1fae5; color: #065f46; }
        #form-error { border: 1px solid #ef4444; background-color: #fee2e2; color: #991b1b; }

        /* Fake Order Popup Styling */
        .fake-order-popup {
            position: fixed;
            left: 16px;
            bottom: -100px; /* Start off-screen */
            background-color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            padding: 12px 16px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            border: 1px solid #e5e7eb;
            z-index: 50;
            opacity: 0;
            transition: opacity 0.5s ease, transform 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Bounce effect */
            max-width: 320px; /* Limit width */
        }
        .fake-order-popup.show {
            opacity: 1;
            transform: translateY(-116px); /* Move up (bottom: 16px + 100px offset) */
        }
        .fake-order-popup.hide {
            opacity: 0;
            transform: translateY(0); /* Move back down */
        }
        .fake-order-popup i { color: #10b981; /* Green icon */ font-size: 1.8rem; flex-shrink: 0; }
        .fake-order-popup div { display: flex; flex-direction: column; }
        .fake-order-popup b { color: #1f2937; }
        .fake-order-popup .city { color: #6b7280; font-size: 0.9em; }
        .fake-order-popup .product { color: #be123c; /* Rose color */ font-weight: 600; font-size: 0.95em; }
        .fake-order-popup .time { color: #9ca3af; font-size: 0.8em; font-style: italic; margin-top: 2px; }


        /* No horizontal scrolls */
        body { overflow-x: hidden; }
        ::-webkit-scrollbar { height: 0; width: 8px; background: #e5e7eb; }
        ::-webkit-scrollbar-thumb { background: #9ca3af; border-radius: 6px; }

        /* Print styles */
        @media print {
            .floating-btn, #effect-orders, .fake-order-popup, .slider-btn, #timer-section, .marquee-section, header button, #order-form button[type='submit'], #noidung details img { display: none !important } /* Hide details images on print */
            body { background-color: #fff; }
            .shadow-xl, .shadow-lg, .shadow-md, .shadow-sm, .shadow { box-shadow: none !important; }
            .border { border: 1px solid #ccc !important; }
            h1, h2, h3 { color: #000 !important; }
            #order-section { border: none !important; padding: 0; }
            #order-form select, #order-form input { border: 1px solid #ccc !important; }
            .bg-gradient-to-br, .bg-gradient-to-b, .bg-gray-100, .bg-white\/70, .bg-rose-50 { background: none !important; background-color: white !important; }
            header { padding-top: 20px; padding-bottom: 20px; }
            section { padding-top: 20px; padding-bottom: 20px; }
            #noidung .bg-gradient-to-b { background: white !important; }
            #order-section .bg-gradient-to-b { background: white !important; }
            .text-rose-700, .text-rose-600, .text-green-600, .text-blue-700 { color: #000 !important; }
            .text-gray-600, .text-gray-700, .text-gray-800 { color: #333 !important; }
        }

        /* Animations */
        @keyframes marqueeAnim {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        @keyframes bounceCart {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-5px) scale(1.1); }
        }
        /* Open details animation */
        details[open] summary ~ * {
            animation: sweep .5s ease-in-out;
        }
        @keyframes sweep {
            0%    {opacity: 0; transform: translateY(-10px)}
            100%  {opacity: 1; transform: translateY(0)}
        }
        details summary::-webkit-details-marker { display:none; } /* Hide default marker */
        details summary { list-style: none; } /* Hide default marker for Firefox */

        /* Style for images inside details */
        details .details-content {
             padding-left: 1.5rem; /* Align with text above */
             margin-top: 0.5rem;
             display: flex; /* Use flexbox for layout */
             flex-direction: column; /* Stack text and image vertically */
             gap: 0.75rem; /* Space between text and image */
        }
        details .details-content img {
             max-width: 100%; /* Ensure image is responsive */
             height: auto;
             border-radius: 8px;
             box-shadow: 0 2px 4px rgba(0,0,0,0.1);
             /* You might want to limit max-height or width */
             max-height: 300px;
             object-fit: contain; /* Adjust as needed: cover, contain, etc. */
             align-self: flex-start; /* Align image to the start */
        }
        @media (min-width: 640px) { /* On sm screens and up, place image beside text */
             details .details-content {
                 flex-direction: row; /* Place text and image side-by-side */
                 align-items: flex-start; /* Align items to the top */
             }
             details .details-content p {
                 flex: 1; /* Allow text to take available space */
             }
             details .details-content img {
                 flex-basis: 200px; /* Give image a fixed base width */
                 max-width: 200px; /* Limit image width */
                 flex-shrink: 0; /* Prevent image from shrinking */
             }
        }


    </style>
</head>
<body class="text-gray-800">

    <header class="relative bg-gradient-to-br from-rose-50 via-pink-50 to-blue-100 pt-10 pb-6 px-4 md:px-6">
        <div class="max-w-6xl mx-auto flex flex-col lg:flex-row items-center gap-8 lg:gap-12">
            <div class="w-full lg:w-2/5 flex-shrink-0">
                <div class="slider" id="book-slider">
                    <img id="slider-image" src="https://static.ladipage.net/60e3d69a577a1e00126a4dbe/2-20231204024352-w1coi.png" alt="Bìa sách Mẹo Nhớ Huyệt">
                    <img src="https://i.postimg.cc/Hn9TDL5b/meonhohuyet2.jpg" alt="Hình ảnh bên trong sách 1" style="display: none;">
                    <img src="https://i.postimg.cc/9QMCKCfq/meonhohuyet4.jpg" alt="Hình ảnh bên trong sách 2" style="display: none;">
                    <img src="https://i.postimg.cc/m21SwFYc/meonhohuyet-m-c-l-c.jpg" alt="Mục lục sách 1" style="display: none;">
                    <img src="https://i.postimg.cc/VkyWHLgK/meonhohuyet-m-c-l-c-2.jpg" alt="Mục lục sách 2" style="display: none;">
                    <img src="https://i.postimg.cc/XNz8dgCS/meonhohuyet-m-c-l-c-3.jpg" alt="Mục lục sách 3" style="display: none;">
                    <img src="https://i.postimg.cc/x8617PWK/meonhohuyet-kh1.jpg" alt="Feedback khách hàng về sách" style="display: none;">
                    <button id="slider-prev" class="slider-btn" aria-label="Ảnh trước"><i class="fas fa-chevron-left"></i></button>
                    <button id="slider-next" class="slider-btn" aria-label="Ảnh tiếp theo"><i class="fas fa-chevron-right"></i></button>
                </div>
                <p class="text-center text-xs text-gray-500 mt-2">*Hình ảnh mô phỏng bìa sách & nội dung thực tế.</p>
            </div>

            <div class="w-full lg:w-3/5 text-center lg:text-left">
                <h1 class="text-4xl md:text-5xl font-extrabold text-rose-700 mb-3 leading-tight">MẸO NHỚ HUYỆT</h1>
                <p class="text-lg text-gray-600 mb-5">Giải pháp ghi nhớ huyệt đạo <span class="font-semibold text-rose-600">dễ dàng</span> và ứng dụng <span class="font-semibold text-rose-600">hiệu quả</span> tại nhà!</p>

                <div class="flex flex-col md:flex-row justify-center lg:justify-start gap-6 mb-6">
                    <div class="bg-white/70 backdrop-blur-sm p-4 rounded-lg border border-gray-200 shadow-sm text-center md:text-left">
                        <div class="text-lg font-semibold text-gray-700 mb-1">Sách Mẹo Nhớ Huyệt</div>
                        <div class="flex items-baseline justify-center md:justify-start gap-2 mb-1">
                            <span class="text-xl line-through text-gray-500">500.000đ</span>
                            <span class="text-3xl font-bold text-green-600">229.000đ</span>
                        </div>
                        <span class="inline-block bg-yellow-200 text-yellow-800 px-3 py-1 rounded-full font-semibold text-sm">Tiết kiệm 54%</span>
                    </div>
                    <div class="bg-white/70 backdrop-blur-sm p-4 rounded-lg border border-rose-200 shadow-sm text-center md:text-left">
                        <div class="text-lg font-semibold text-gray-700 mb-1">Combo 2 Sách <span class="text-xs">(+ Liệu pháp chữa bệnh)</span></div>
                         <div class="flex items-baseline justify-center md:justify-start gap-2 mb-1">
                            <span class="text-xl line-through text-gray-500">708.000đ</span>
                            <span class="text-3xl font-bold text-rose-600">349.000đ</span>
                        </div>
                        <span class="inline-block bg-rose-100 text-rose-800 px-3 py-1 rounded-full font-semibold text-sm">Siêu tiết kiệm 359K</span>
                    </div>
                </div>

                <div id="timer-section" class="mb-5">
                    <div class="flex items-center justify-center lg:justify-start gap-2 mb-2">
                        <i class="fas fa-clock text-xl text-rose-500 animate-pulse"></i>
                        <span class="font-bold text-gray-700 text-sm uppercase tracking-wide">Ưu đãi kết thúc sau:</span>
                    </div>
                    <div id="timer" class="flex justify-center lg:justify-start space-x-1">
                        </div>
                    <p class="text-xs text-green-600 mt-2 italic text-center lg:text-left">*Số lượng khuyến mãi combo có hạn*</p>
                </div>

                <button onclick="scrollToOrder()" class="inline-block px-8 py-3 bg-rose-600 text-white font-bold text-lg rounded-full shadow-md hover:bg-rose-700 transition duration-200 transform hover:scale-105">
                    <i class="fas fa-shopping-cart mr-2"></i> Đặt Mua Ngay
                 </button>
            </div>
        </div>
    </header>

    <div class="marquee-section max-w-6xl mx-auto px-4 md:px-6 my-6">
        <div class="marquee">
            <span><i class="fas fa-gift text-rose-600"></i>Giảm Giá Khi Mua Kèm Liệu Pháp Chữa Bệnh - Khu Phản Xạ</span>
            <span><i class="fas fa-shipping-fast text-green-600"></i> Freeship toàn quốc!</span>
            <span><i class="fas fa-headset text-blue-600"></i> Tư vấn tận tình - Hỗ trợ 1-1!</span>
            <span><i class="fas fa-check-circle text-emerald-600"></i> Kiểm tra hàng trước khi thanh toán!</span>
            <span><i class="fas fa-gift text-rose-600"></i>Giảm Giá Khi Mua Kèm Liệu Pháp Chữa Bệnh - Khu Phản Xạ</span>
            <span><i class="fas fa-shipping-fast text-green-600"></i> Freeship toàn quốc!</span>
            <span><i class="fas fa-headset text-blue-600"></i> Tư vấn tận tình - Hỗ trợ 1-1!</span>
            <span><i class="fas fa-check-circle text-emerald-600"></i> Kiểm tra hàng trước khi thanh toán!</span>
        </div>
    </div>

    <section class="max-w-4xl mx-auto px-4 md:px-6 mt-10 mb-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 text-center">
            <div class="flex flex-col items-center p-4 bg-white rounded-xl shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200">
                <i class="fas fa-undo-alt text-3xl text-amber-500 mb-2"></i>
                <span class="font-semibold text-gray-700">Đổi/trả dễ dàng</span>
                <span class="text-sm text-gray-500">Trong vòng 7 ngày</span>
            </div>
            <div class="flex flex-col items-center p-4 bg-white rounded-xl shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200">
                <i class="fas fa-shipping-fast text-3xl text-blue-500 mb-2"></i>
                <span class="font-semibold text-gray-700">Miễn phí giao hàng</span>
                 <span class="text-sm text-gray-500">Toàn quốc</span>
            </div>
            <div class="flex flex-col items-center p-4 bg-white rounded-xl shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200">
                <i class="fas fa-shield-alt text-3xl text-green-600 mb-2"></i>
                <span class="font-semibold text-gray-700">Bảo hành in lỗi</span>
                 <span class="text-sm text-gray-500">Đổi mới 1-1</span>
            </div>
        </div>
    </section>

    <button onclick="scrollToOrder()" class="floating-btn shadow-xl">
        <i class="fas fa-cart-plus text-2xl"></i>
        <span>Đặt hàng ngay</span>
    </button>

    <section class="max-w-5xl mx-auto px-4 md:px-6 py-10" id="noidung">
        <h2 class="text-3xl md:text-4xl text-center text-rose-800 font-bold mb-8">Khám Phá Nội Dung Sách <span class="text-blue-700">MẸO NHỚ HUYỆT</span></h2>
        <div class="bg-gradient-to-b from-white to-rose-50 rounded-lg shadow-lg p-6 md:p-8 border border-gray-200">
            <div class="mb-8">
                <h3 class="text-2xl text-rose-700 font-semibold mb-4 pb-2 border-b border-rose-200">PHẦN 1: MẸO NHỚ HUYỆT – Quy Tắc Xác Định Chung</h3>
                <div class="space-y-4 text-gray-700">
                    <details class="group">
                        <summary class="cursor-pointer font-semibold text-lg list-none group-hover:text-rose-600 transition-colors flex items-center">
                            <i class="fas fa-chevron-right group-open:rotate-90 transition-transform duration-200 mr-2 text-sm text-rose-400 w-4 text-center"></i> 1. Vùng vai gáy lưng
                        </summary>
                        <div class="details-content">
                             <p class="text-sm text-gray-600 leading-relaxed">Phong Phủ, Phong Trì, Đại Chùy, Thân Trụ, Chí Dương, Kiên Ngung, Kiên Tỉnh, Kiên Trinh, Nhu Du, Cánh Cân, Thiên Tông, Cao Hoang, Phế Du, Tâm Du, Cách Du, Can Du, Đởm Du, Tỳ Du, Vị Du, Thận Du, Chí Thất, Mệnh Môn, Yêu Nhãn, Bát Liêu, Trật Biên, Hoàn Khiêu.</p>
                             <img src="https://i.postimg.cc/8zRMK2ZW/Screenshot-2025-04-27-024240.png" alt="Hình ảnh minh họa huyệt vùng vai gáy lưng" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/400x300/e0e7ff/1e1b4b?text=Lỗi+Ảnh'">
                        </div>
                    </details>
                    <details class="group">
                        <summary class="cursor-pointer font-semibold text-lg list-none group-hover:text-rose-600 transition-colors flex items-center">
                             <i class="fas fa-chevron-right group-open:rotate-90 transition-transform duration-200 mr-2 text-sm text-rose-400 w-4 text-center"></i> 2. Vùng tay
                        </summary>
                         <div class="details-content">
                            <p class="text-sm text-gray-600 leading-relaxed">Thiếu Thương, Lao Cung, Ngư Tế, Thần Môn, Đại Lăng, Nội Quan, Liệt Khuyết, Xích Trạch, Hợp Cốc, Lạc Chẩm, Trung Chử, Ngoại Quan, Thủ Tam Lý, Khúc Trì, Tỳ Nhu, Tiểu Hải.</p>
                             <img src="https://i.postimg.cc/HLPwXQSP/Screenshot-2025-04-27-025002.png" alt="Hình ảnh minh họa huyệt vùng tay" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/400x300/e0e7ff/1e1b4b?text=Lỗi+Ảnh'">
                         </div>
                    </details>
                    <details class="group">
                        <summary class="cursor-pointer font-semibold text-lg list-none group-hover:text-rose-600 transition-colors flex items-center">
                             <i class="fas fa-chevron-right group-open:rotate-90 transition-transform duration-200 mr-2 text-sm text-rose-400 w-4 text-center"></i> 3. Vùng ngực
                        </summary>
                         <div class="details-content">
                             <p class="text-sm text-gray-600 leading-relaxed">Vân Môn, Trung Phủ, Đản Trung, Thiên Đột, Ốc Ế, Thiên Trì, Nhũ Căn, Kỳ Môn.</p>
                             <img src="https://i.postimg.cc/kMSQRRWf/Screenshot-2025-04-27-025113.png" alt="Hình ảnh minh họa huyệt vùng ngực" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/400x300/e0e7ff/1e1b4b?text=Lỗi+Ảnh'">
                         </div>
                    </details>
                    <details class="group">
                        <summary class="cursor-pointer font-semibold text-lg list-none group-hover:text-rose-600 transition-colors flex items-center">
                             <i class="fas fa-chevron-right group-open:rotate-90 transition-transform duration-200 mr-2 text-sm text-rose-400 w-4 text-center"></i> 4. Vùng bụng
                        </summary>
                         <div class="details-content">
                            <p class="text-sm text-gray-600 leading-relaxed">Cự Khuyết, Chương Môn, Trung Quản, Thần Khuyết, Khí Hải.</p>
                             <img src="https://i.postimg.cc/vZZxh46R/Screenshot-2025-04-27-025232.png" alt="Hình ảnh minh họa huyệt vùng bụng" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/400x300/e0e7ff/1e1b4b?text=Lỗi+Ảnh'">
                         </div>
                    </details>
                    <details class="group">
                        <summary class="cursor-pointer font-semibold text-lg list-none group-hover:text-rose-600 transition-colors flex items-center">
                             <i class="fas fa-chevron-right group-open:rotate-90 transition-transform duration-200 mr-2 text-sm text-rose-400 w-4 text-center"></i> 5. Vùng chân (mặt trước & sau)
                        </summary>
                         <div class="details-content">
                            <p class="text-sm text-gray-600 leading-relaxed">Quan Nguyên, Thiên Khu, Lương Môn, Trung Cực, Âm Lăng Tuyền, Huyết Hải, Lương Khâu, Thừa Phù, Phong Thị, Ủy Trung, Túc Tam Lý, Thừa Sơn, Tam Âm Giao, Thái Xung, Dũng Tuyền, Côn Lôn, Dương Lăng Tuyền...</p>
                             <img src="https://i.postimg.cc/qqrz3qd5/Screenshot-2025-04-27-025326.png" alt="Hình ảnh minh họa huyệt vùng chân" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/400x300/e0e7ff/1e1b4b?text=Lỗi+Ảnh'">
                         </div>
                    </details>
                    <details class="group">
                        <summary class="cursor-pointer font-semibold text-lg list-none group-hover:text-rose-600 transition-colors flex items-center">
                             <i class="fas fa-chevron-right group-open:rotate-90 transition-transform duration-200 mr-2 text-sm text-rose-400 w-4 text-center"></i> 6. Vùng đầu - mặt
                        </summary>
                        <div class="details-content">
                            <p class="text-sm text-gray-600 leading-relaxed">Nhân Trung, Thừa Tương, Địa Thương, Giáp Xa, Hạ Quan, Thính Cung, Nhĩ Môn, Ế Phong, Ấn Đường, Toản Trúc, Tình Minh, Thái Dương, Nghinh Hương, Đầu Duy, Suất Cốc, Bách Hội, Tứ Thần Thông, Phong Phủ, Phong Trì.</p>
                             <img src="https://i.postimg.cc/pLSrBqH8/Screenshot-2025-04-27-025428.png" alt="Hình ảnh minh họa huyệt vùng đầu mặt" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/400x300/e0e7ff/1e1b4b?text=Lỗi+Ảnh'">
                         </div>
                    </details>
                </div>
            </div>

            <div>
                <h3 class="text-2xl text-rose-700 font-semibold mb-4 pb-2 border-b border-rose-200">PHẦN 2: Ứng Dụng Ấn Huyệt Chăm Sóc Sức Khỏe Tại Nhà</h3>
                <div class="space-y-4">
                    <div>
                        <h4 class="font-semibold text-lg text-gray-800 mb-1">Chương 1: Phạm vi, Phương pháp và Quy tắc ấn huyệt</h4>
                        <p class="block text-gray-600 text-sm leading-relaxed">Hướng dẫn chi tiết về cách xác định huyệt chính xác, các kỹ thuật day ấn phù hợp, lực đạo, thời gian và những lưu ý quan trọng để đảm bảo an toàn, hiệu quả khi thực hành.</p>
                    </div>
                    <div class="mt-4">
                        <h4 class="font-semibold text-lg text-gray-800 mb-2">Chương 2: Thực hành ấn huyệt cho các triệu chứng thường gặp</h4>
                        <ul class="grid grid-cols-2 sm:grid-cols-3 gap-x-6 gap-y-2 text-gray-700 text-sm">
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Nhức mỏi mắt</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Ù tai, nghe kém</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Viêm mũi, viêm xoang</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Ho, đau họng</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Tăng cường trí nhớ</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Đau đầu, mất ngủ</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Rối loạn tiền đình</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Liệt mặt (dây VII)</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Đau vai gáy</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Đau tê cánh tay</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Đau lưng, đau thần kinh tọa</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Hội chứng ống cổ tay</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Chuột rút</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Tăng cường sinh lý</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Tắc tia sữa</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Chướng bụng, đầy hơi</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Táo bón, tiêu chảy</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Đau bụng kinh</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Say tàu xe, nấc</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Cảm cúm, hạ sốt</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Phục hồi sau tai biến</li>
                             <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mr-2 mt-1 text-xs flex-shrink-0"></i>Ổn định huyết áp</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section> <section class="bg-gray-100 py-12">
        <div class="max-w-5xl mx-auto px-4 md:px-6 text-center">
            <h3 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6">Minh Họa Trực Quan, Dễ Hiểu</h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6" id="illustrations">
                <img src="https://imgv2-1-f.scribdassets.com/img/document/758988022/original/8427c3fb69/1?v=1" alt="Nội dung minh họa huyệt đạo 1" class="rounded-lg shadow-md border border-gray-200 w-full h-auto object-cover aspect-[2/3] hover:scale-105 transition-transform duration-300 cursor-pointer" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/350x500/e0e7ff/1e1b4b?text=Image+Error'">
                <img src="https://www.tusachcuaban.net/wp-content/uploads/2024/08/461282868_2312661962417208_7671857024528690983_n.jpg" alt="Nội dung minh họa huyệt đạo 2" class="rounded-lg shadow-md border border-gray-200 w-full h-auto object-cover aspect-[2/3] hover:scale-105 transition-transform duration-300 cursor-pointer" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/350x500/e0e7ff/1e1b4b?text=Image+Error'">
                <img src="https://scontent.fdad1-4.fna.fbcdn.net/v/t39.30808-6/485682523_639672042149226_1122559980509622407_n.jpg?_nc_cat=100&ccb=1-7&_nc_sid=127cfc&_nc_ohc=gvuYTFSRJ8gQ7kNvwF1p7ir&_nc_oc=Admh7Fl5Wn-7a-uS8lknUTJgXmeR6gaEINWPcpvaoz4bMv-YL8xr8EzHcZ-OEP4Kwck&_nc_zt=23&_nc_ht=scontent.fdad1-4.fna&_nc_gid=1BQlCbEdD4H0VlsMTAo-CA&oh=00_AfHJv5xsfFykV5HyIE_om_pyLttOTl3xiwIxQOsyEGWrAg&oe=68130377" alt="Nội dung minh họa huyệt đạo 3" class="rounded-lg shadow-md border border-gray-200 w-full h-auto object-cover aspect-[2/3] hover:scale-105 transition-transform duration-300 cursor-pointer" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/350x500/e0e7ff/1e1b4b?text=Image+Error'">
                <img src="https://i.postimg.cc/Hn9TDL5b/meonhohuyet2.jpg" alt="Nội dung minh họa huyệt đạo 4" class="rounded-lg shadow-md border border-gray-200 w-full h-auto object-cover aspect-[2/3] hover:scale-105 transition-transform duration-300 cursor-pointer" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/350x500/e0e7ff/1e1b4b?text=Image+Error'">
            </div>
            <p class="text-sm text-gray-600 mt-4 italic">Hình ảnh sắc nét, chú thích rõ ràng giúp bạn nắm vững vị trí và cách tác động.</p>
        </div>
    </section>
    <section class="max-w-5xl mx-auto px-4 md:px-6 py-12">
        <h3 class="text-2xl md:text-3xl font-bold text-gray-800 mb-8 text-center">Khách Hàng Nói Gì Về Sách?</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="bg-white rounded-lg shadow-lg border border-gray-100 p-5 flex flex-col">
                <div class="flex items-start gap-4 mb-3">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRgFr7XPnQnCr7WL6p0CN5NTnn93hHtzB1HDw&s" alt="Ảnh đại diện Nguyễn Văn Mẫn" class="rounded-full w-14 h-14 object-cover border-2 border-amber-200 flex-shrink-0" onerror="this.onerror=null; this.src='https://placehold.co/60x60/cccccc/ffffff?text=User'">
                    <div>
                        <span class="font-semibold text-gray-800 block">Nguyễn Văn Mẫn</span>
                        <div class="text-yellow-500 text-sm">
                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                        </div>
                    </div>
                </div>
                <p class="text-gray-600 text-sm italic mb-4 flex-grow">"Sách trình bày khoa học, dễ hiểu. Phần mẹo ghi nhớ cực kỳ tâm đắc, giúp tôi tự tin ứng dụng bấm huyệt chăm sóc sức khỏe cho cả nhà. Rất đáng tiền!"</p>
                <img src="https://down-vn.img.susercontent.com/file/vn-11134103-7ras8-m2nrhhr5ft3aee.webp" class="mt-auto rounded shadow border w-full h-32 object-cover self-center" alt="Ảnh feedback sách Mẹo Nhớ Huyệt 1" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/200x150/eeeeee/aaaaaa?text=Image'">
            </div>
            <div class="bg-white rounded-lg shadow-lg border border-gray-100 p-5 flex flex-col">
                 <div class="flex items-start gap-4 mb-3">
                    <img src="https://randomuser.me/api/portraits/women/45.jpg" alt="Ảnh đại diện Trần Huyền Trang" class="rounded-full w-14 h-14 object-cover border-2 border-pink-200 flex-shrink-0" onerror="this.onerror=null; this.src='https://placehold.co/60x60/cccccc/ffffff?text=User'">
                    <div>
                        <span class="font-semibold text-gray-800 block">Trần Huyền Trang</span>
                        <div class="text-yellow-500 text-sm">
                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                        </div>
                    </div>
                </div>
                <p class="text-gray-600 text-sm italic mb-4 flex-grow">"Là mẹ bỉm, mình hay đau vai gáy. Đọc sách này biết cách tự bấm huyệt giảm đau hiệu quả. Shop còn tặng video hướng dẫn rất chi tiết, dễ làm theo."</p>
                 <img src="https://down-vn.img.susercontent.com/file/vn-11134103-7ras8-m2nrhhr5bldyf2.webp" class="mt-auto rounded shadow border w-full h-32 object-cover self-center" alt="Ảnh feedback sách Mẹo Nhớ Huyệt 2" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/200x150/eeeeee/aaaaaa?text=Image'">
            </div>
            <div class="bg-white rounded-lg shadow-lg border border-gray-100 p-5 flex flex-col">
                <div class="flex items-start gap-4 mb-3">
                    <img src="https://randomuser.me/api/portraits/men/83.jpg" alt="Ảnh đại diện Bùi Tuấn Hưng" class="rounded-full w-14 h-14 object-cover border-2 border-blue-200 flex-shrink-0" onerror="this.onerror=null; this.src='https://placehold.co/60x60/cccccc/ffffff?text=User'">
                    <div>
                        <span class="font-semibold text-gray-800 block">Bùi Tuấn Hưng</span>
                        <div class="text-yellow-500 text-sm">
                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                        </div>
                    </div>
                </div>
                <p class="text-gray-600 text-sm italic mb-4 flex-grow">"Mua combo 2 cuốn lợi hơn hẳn. Hình ảnh minh họa rõ ràng, nội dung chất lượng. Giao hàng nhanh, đóng gói cẩn thận. Sẽ ủng hộ shop tiếp!"</p>
                 <img src="https://down-vn.img.susercontent.com/file/vn-11134103-7r98o-lzg79ldvx6bx2c.webp" class="mt-auto rounded shadow border w-full h-32 object-cover self-center" alt="Ảnh feedback sách Mẹo Nhớ Huyệt 3" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/200x150/eeeeee/aaaaaa?text=Image'">
            </div>
        </div>
    </section>

    <div id="effect-orders">
        </div>

    <section class="bg-gradient-to-b from-rose-50 to-white py-12" id="order-section">
        <div class="max-w-2xl mx-auto bg-white rounded-2xl shadow-xl p-6 md:p-8 border border-gray-200">
            <h2 class="text-3xl font-bold text-rose-700 mb-5 text-center">Đặt Mua Sách Ngay!</h2>
            <p class="text-center text-gray-600 mb-6">Điền thông tin để nhận ưu đãi và Freeship toàn quốc.</p>
            <form id="order-form" class="space-y-5" novalidate> <input type="hidden" name="date" id="form-date">

                <div>
                    <label for="don_hang" class="font-semibold block mb-1.5 text-gray-700">Chọn sách muốn mua <span class="text-rose-500">*</span></label>
                    <select name="don_hang" id="don_hang" required class="w-full border px-3 py-2.5 rounded-lg outline-none focus:ring-2 focus:ring-rose-300 focus:border-rose-400 bg-white">
                        <option value="Mẹo Nhớ Huyệt - 229K">Sách Mẹo Nhớ Huyệt (Giá KM: 229.000đ)</option>
                        <option value="Liệu pháp chữa bệnh toàn Thân khu phản xạ - 179K">Sách Liệu pháp chữa bệnh (Giá KM: 179.000đ)</option>
                        <option value="Combo cả 2 sách - 349K">Combo 2 Sách (Ưu đãi chỉ: 349.000đ)</option>
                    </select>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div>
                        <label for="name" class="font-semibold block mb-1.5 text-gray-700">Họ và tên <span class="text-rose-500">*</span></label>
                        <input name="name" id="name" required type="text" class="w-full border px-3 py-2.5 rounded-lg outline-none focus:ring-2 focus:ring-rose-300 focus:border-rose-400" autocomplete="name" placeholder="Ví dụ: Nguyễn Văn An">
                    </div>
                    <div>
                        <label for="phone" class="font-semibold block mb-1.5 text-gray-700">Số điện thoại <span class="text-rose-500">*</span></label>
                        <input name="phone" id="phone" required pattern="^0[0-9]{9}$" title="Số điện thoại gồm 10 chữ số, bắt đầu bằng 0" maxlength="10" type="tel" class="w-full border px-3 py-2.5 rounded-lg outline-none focus:ring-2 focus:ring-rose-300 focus:border-rose-400" autocomplete="tel" placeholder="VD: 0912345678">
                    </div>
                </div>

                <div>
                    <label class="font-semibold block mb-1.5 text-gray-700">Địa chỉ nhận hàng <span class="text-rose-500">*</span></label>
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 mb-3">
                        <select id="city" required class="w-full border px-3 py-2.5 rounded-lg outline-none focus:ring-2 focus:ring-rose-300 focus:border-rose-400 bg-white" autocomplete="address-level1">
                            <option value="">Chọn Tỉnh/Thành phố</option>
                            </select>
                        <select id="district" required disabled class="w-full border px-3 py-2.5 rounded-lg outline-none focus:ring-2 focus:ring-rose-300 focus:border-rose-400 bg-white disabled:bg-gray-100 disabled:cursor-not-allowed" autocomplete="address-level2">
                            <option value="">Chọn Quận/Huyện</option>
                             </select>
                        <select id="ward" required disabled class="w-full border px-3 py-2.5 rounded-lg outline-none focus:ring-2 focus:ring-rose-300 focus:border-rose-400 bg-white disabled:bg-gray-100 disabled:cursor-not-allowed" autocomplete="address-level3">
                            <option value="">Chọn Phường/Xã</option>
                             </select>
                    </div>
                     <input type="text" id="street_address" required class="w-full border px-3 py-2.5 rounded-lg outline-none focus:ring-2 focus:ring-rose-300 focus:border-rose-400 mb-3" placeholder="Số nhà, tên đường..." autocomplete="street-address">
                     <div id="final_address" class="mt-2 text-sm p-2 border rounded bg-gray-100 text-gray-600">Địa chỉ đầy đủ sẽ hiển thị ở đây</div>
                </div>

                 <div>
                    <label for="notes" class="font-semibold block mb-1.5 text-gray-700">Ghi chú thêm (tùy chọn)</label>
                    <textarea name="notes" id="notes" rows="3" class="w-full border px-3 py-2.5 rounded-lg outline-none focus:ring-2 focus:ring-rose-300 focus:border-rose-400" placeholder="Ví dụ: Giao hàng giờ hành chính..."></textarea>
                </div>

                <button type="submit" class="w-full px-6 py-3 bg-rose-600 text-white font-bold text-lg rounded-full shadow-md hover:bg-rose-700 transition duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed">
                    <i class="fas fa-check-circle mr-2"></i> Hoàn Tất Đặt Hàng
                </button>

                <div id="form-success" class="hidden text-center"></div>
                <div id="form-error" class="hidden text-center"></div>

            </form>
        </div>
    </section>

    <footer class="bg-gray-800 text-gray-300 py-8 px-4 md:px-6 text-sm">
        <div class="max-w-6xl mx-auto text-center">
            <p>&copy; 2025 Sách Mẹo Nhớ Huyệt. All rights reserved.</p>
            <p class="mt-2">Thông tin liên hệ: 0972 048 409 | Email: info@meonhohuyet.com</p>
            </div>
    </footer>

    <script>
        // --- Slider ---
        const sliderImages = document.querySelectorAll('#book-slider img');
        const prevBtn = document.getElementById('slider-prev');
        const nextBtn = document.getElementById('slider-next');
        let currentSlide = 0;

        function showSlide(index) {
            sliderImages.forEach((img, i) => {
                // Treat all images within the slider the same way
                img.style.display = i === index ? 'block' : 'none';
                img.style.opacity = i === index ? '1' : '0';
            });
            currentSlide = index;
        }


        if (prevBtn && nextBtn && sliderImages.length > 1) {
            prevBtn.addEventListener('click', () => {
                let newIndex = currentSlide - 1;
                if (newIndex < 0) {
                    newIndex = sliderImages.length - 1;
                }
                showSlide(newIndex);
            });

            nextBtn.addEventListener('click', () => {
                let newIndex = currentSlide + 1;
                if (newIndex >= sliderImages.length) {
                    newIndex = 0;
                }
                showSlide(newIndex);
            });

            // Initialize slider
            showSlide(0);

            // Auto-slide (optional)
            // setInterval(() => {
            //     nextBtn.click();
            // }, 5000); // Change slide every 5 seconds
        } else if (sliderImages.length === 1) {
            // Hide buttons if only one image
            if (prevBtn) prevBtn.style.display = 'none';
            if (nextBtn) nextBtn.style.display = 'none';
             // Ensure the single image is displayed
             if (sliderImages[0]) {
                sliderImages[0].style.display = 'block';
                sliderImages[0].style.opacity = '1';
             }
        }

        // --- Countdown Timer ---
        const timerElement = document.getElementById('timer');
        let timerInterval; // Declare interval variable

        function createTimerItem(digit, label) {
            const item = document.createElement('div');
            item.className = 'timer-item';
            item.innerHTML = `<span class="timer-digit">${digit}</span><span class="timer-label">${label}</span>`;
            return item;
        }

        function createTimerSeparator() {
            const sep = document.createElement('span');
            sep.className = 'timer-separator';
            sep.textContent = ':';
            return sep;
        }

        function updateTimer() {
            // Set target date (e.g., 2 days from now)
            const targetDate = new Date();
            targetDate.setDate(targetDate.getDate() + 2); // Ends in 2 days
            targetDate.setHours(23, 59, 59, 999); // End of the day

            const now = new Date().getTime();
            const distance = targetDate - now;

            if (distance < 0) {
                if(timerElement) {
                    timerElement.innerHTML = '<span class="text-red-600 font-semibold">Ưu đãi đã kết thúc!</span>';
                     if (timerInterval) clearInterval(timerInterval); // Clear interval when done
                }
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Format digits with leading zeros
            const format = (num) => String(num).padStart(2, '0');

            if(timerElement) {
                timerElement.innerHTML = ''; // Clear previous timer

                if (days > 0) {
                    timerElement.appendChild(createTimerItem(format(days), 'Ngày'));
                    timerElement.appendChild(createTimerSeparator());
                }
                timerElement.appendChild(createTimerItem(format(hours), 'Giờ'));
                timerElement.appendChild(createTimerSeparator());
                timerElement.appendChild(createTimerItem(format(minutes), 'Phút'));
                timerElement.appendChild(createTimerSeparator());
                timerElement.appendChild(createTimerItem(format(seconds), 'Giây'));
            }
        }

        if (timerElement) {
            updateTimer(); // Initial call
            timerInterval = setInterval(updateTimer, 1000); // Assign interval ID
        }

        // --- Scroll to Order Form ---
        function scrollToOrder() {
            const orderSection = document.getElementById('order-section');
            if (orderSection) {
                orderSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        // --- Address Dropdowns (Placeholder Data) ---
        const citySelect = document.getElementById('city');
        const districtSelect = document.getElementById('district');
        const wardSelect = document.getElementById('ward');
        const streetInput = document.getElementById('street_address');
        const finalAddressDiv = document.getElementById('final_address');

        // Placeholder data structure (replace with actual API call or data source)
        const addressData = {
            "Hà Nội": {
                "Ba Đình": ["Phúc Xá", "Trúc Bạch", "Vĩnh Phúc"],
                "Hoàn Kiếm": ["Hàng Buồm", "Hàng Bông", "Lý Thái Tổ"]
            },
            "TP. Hồ Chí Minh": {
                "Quận 1": ["Bến Nghé", "Bến Thành", "Cầu Ông Lãnh"],
                "Quận 3": ["Phường 1", "Phường 2", "Phường 3"]
            },
             "Quảng Ngãi": { // Added Quảng Ngãi
                "TP. Quảng Ngãi": ["Chánh Lộ", "Lê Hồng Phong", "Nghĩa Chánh", "Nghĩa Lộ", "Quảng Phú", "Trần Hưng Đạo", "Trần Phú"],
                "Huyện Bình Sơn": ["Thị trấn Châu Ổ", "Bình An", "Bình Chánh"],
                "Huyện Sơn Tịnh": ["Tịnh Ấn Tây", "Tịnh Ấn Đông", "Tịnh Thiện"]
            }
            // Add more provinces/cities
        };

        function populateSelect(selectElement, options) {
             if (!selectElement) return; // Add null check
            const placeholder = selectElement.options[0].text; // Store placeholder text
            selectElement.innerHTML = `<option value="">${placeholder}</option>`; // Keep placeholder
            options.forEach(option => {
                const opt = document.createElement('option');
                opt.value = option;
                opt.textContent = option;
                selectElement.appendChild(opt);
            });
            selectElement.disabled = false;
        }

        function updateFinalAddress() {
             if (!citySelect || !districtSelect || !wardSelect || !streetInput || !finalAddressDiv) return; // Add null checks
             const city = citySelect.value;
             const district = districtSelect.value;
             const ward = wardSelect.value;
             const street = streetInput.value.trim();
             let fullAddress = "";

             if (street) fullAddress += street;
             if (ward) fullAddress += (fullAddress ? ", " : "") + ward;
             if (district) fullAddress += (fullAddress ? ", " : "") + district;
             if (city) fullAddress += (fullAddress ? ", " : "") + city;


             if (fullAddress) {
                 finalAddressDiv.textContent = fullAddress;
             } else {
                 finalAddressDiv.textContent = "Địa chỉ đầy đủ sẽ hiển thị ở đây";
             }
        }

        if (citySelect && districtSelect && wardSelect && streetInput && finalAddressDiv) {
            // Populate cities
            populateSelect(citySelect, Object.keys(addressData));

            // Event Listeners
            citySelect.addEventListener('change', () => {
                const selectedCity = citySelect.value;
                districtSelect.disabled = true;
                wardSelect.disabled = true;
                populateSelect(districtSelect, []); // Clear districts
                populateSelect(wardSelect, []); // Clear wards
                if (selectedCity && addressData[selectedCity]) {
                    populateSelect(districtSelect, Object.keys(addressData[selectedCity]));
                }
                 updateFinalAddress();
            });

            districtSelect.addEventListener('change', () => {
                const selectedCity = citySelect.value;
                const selectedDistrict = districtSelect.value;
                wardSelect.disabled = true;
                 populateSelect(wardSelect, []); // Clear wards
                if (selectedCity && selectedDistrict && addressData[selectedCity]?.[selectedDistrict]) { // Optional chaining
                    populateSelect(wardSelect, addressData[selectedCity][selectedDistrict]);
                }
                 updateFinalAddress();
            });

            wardSelect.addEventListener('change', updateFinalAddress);
            streetInput.addEventListener('input', updateFinalAddress);
        }


        // --- Form Submission (Simulation) ---
        const orderForm = document.getElementById('order-form');
        const successMsg = document.getElementById('form-success');
        const errorMsg = document.getElementById('form-error');
        const submitButton = orderForm ? orderForm.querySelector('button[type="submit"]') : null;

        if (orderForm && successMsg && errorMsg && submitButton) {
            orderForm.addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent actual form submission
                successMsg.classList.add('hidden');
                errorMsg.classList.add('hidden');
                submitButton.disabled = true;
                submitButton.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Đang xử lý...';

                // Basic Validation
                let isValid = true;
                const requiredFields = orderForm.querySelectorAll('[required]');
                requiredFields.forEach(field => {
                     // Check if field is visible and enabled before validating
                    if (field.offsetParent !== null && !field.disabled) {
                        if (!field.value.trim()) {
                            isValid = false;
                            field.classList.add('border-red-500'); // Highlight invalid fields
                             field.classList.remove('border-gray-300');
                        } else {
                            field.classList.remove('border-red-500');
                             field.classList.add('border-gray-300');
                        }
                    }
                });

                 // Phone validation
                const phoneInput = document.getElementById('phone');
                if (phoneInput && !phoneInput.checkValidity()) {
                    isValid = false;
                    phoneInput.classList.add('border-red-500');
                     phoneInput.classList.remove('border-gray-300');
                } else if (phoneInput) {
                    phoneInput.classList.remove('border-red-500');
                     phoneInput.classList.add('border-gray-300');
                }

                if (!isValid) {
                    errorMsg.textContent = 'Vui lòng điền đầy đủ thông tin bắt buộc và kiểm tra lại số điện thoại.';
                    errorMsg.classList.remove('hidden');
                    submitButton.disabled = false;
                    submitButton.innerHTML = '<i class="fas fa-check-circle mr-2"></i> Hoàn Tất Đặt Hàng';
                    // Scroll to the first invalid field (optional)
                    const firstInvalid = orderForm.querySelector('.border-red-500');
                    if (firstInvalid) {
                        firstInvalid.focus(); // Focus on the first invalid field
                        firstInvalid.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                    return;
                }

                // --- Simulate API Call ---
                // Set current date
                 const dateInput = document.getElementById('form-date');
                 if (dateInput) dateInput.value = new Date().toISOString();

                 // Get form data (Example for potential sending)
                 const formData = new FormData(orderForm);
                 const data = {};
                 formData.forEach((value, key) => data[key] = value);
                 if (finalAddressDiv) data['final_address'] = finalAddressDiv.textContent; // Add final address
                 console.log("Form Data (Simulated Send):", data);

                setTimeout(() => {
                    // Simulate success
                    successMsg.textContent = 'Đặt hàng thành công! Chúng tôi sẽ liên hệ với bạn sớm nhất.';
                    successMsg.classList.remove('hidden');
                    orderForm.reset(); // Clear the form
                    // Reset address dropdowns and final address display
                    if (citySelect) populateSelect(citySelect, Object.keys(addressData)); // Repopulate cities
                    if (districtSelect) {
                         districtSelect.disabled = true;
                         populateSelect(districtSelect, []);
                    }
                    if (wardSelect) {
                         wardSelect.disabled = true;
                          populateSelect(wardSelect, []);
                    }
                    if (finalAddressDiv) {
                         finalAddressDiv.textContent = "Địa chỉ đầy đủ sẽ hiển thị ở đây";
                    }
                     // Reset borders
                     requiredFields.forEach(field => field.classList.remove('border-red-500'));
                     if (phoneInput) phoneInput.classList.remove('border-red-500');

                    submitButton.disabled = false;
                    submitButton.innerHTML = '<i class="fas fa-check-circle mr-2"></i> Hoàn Tất Đặt Hàng';

                    // Optional: Track conversion event
                    if (typeof fbq === 'function') {
                        fbq('track', 'Purchase', {currency: "VND", value: getSelectedPrice()});
                    }

                }, 1500); // Simulate network delay

                // --- To simulate an error ---
                /*
                setTimeout(() => {
                    errorMsg.textContent = 'Đã có lỗi xảy ra. Vui lòng thử lại sau.';
                    errorMsg.classList.remove('hidden');
                    submitButton.disabled = false;
                    submitButton.innerHTML = '<i class="fas fa-check-circle mr-2"></i> Hoàn Tất Đặt Hàng';
                }, 1500);
                */
            });
        }

        function getSelectedPrice() {
            const select = document.getElementById('don_hang');
             if (!select) return 0; // Add null check
            const selectedValue = select.value;
            if (selectedValue.includes('349K')) return 349000;
            if (selectedValue.includes('229K')) return 229000;
            if (selectedValue.includes('179K')) return 179000;
            return 0; // Default
        }

        // --- Fake Order Popups ---
        const popupContainer = document.getElementById('effect-orders');
        const names = ["Anh Minh", "Chị Lan", "Chú Hùng", "Cô Mai", "Bạn Tuấn", "Chị Hoa", "Bác Dũng", "Cô Nga"];
        const cities = ["Hà Nội", "TP. HCM", "Đà Nẵng", "Hải Phòng", "Cần Thơ", "Quảng Ngãi", "Nha Trang", "Huế"]; // Added Quảng Ngãi
        const products = ["Sách Mẹo Nhớ Huyệt", "Combo 2 Sách"];
        let popupIntervalId = null; // Store interval ID

        function showFakeOrder() {
            if (!popupContainer) return;

            const randomName = names[Math.floor(Math.random() * names.length)];
            const randomCity = cities[Math.floor(Math.random() * cities.length)];
            const randomProduct = products[Math.floor(Math.random() * products.length)];
            const randomTime = Math.floor(Math.random() * 59) + 1; // 1-59 minutes ago

            const popup = document.createElement('div');
            popup.className = 'fake-order-popup';
            popup.innerHTML = `
                <i class="fas fa-check-circle"></i>
                <div>
                    <span><b>${randomName}</b> <span class="city">(${randomCity})</span></span>
                    <span class="product">vừa đặt ${randomProduct}</span>
                    <span class="time">${randomTime} phút trước</span>
                </div>
            `;

            popupContainer.appendChild(popup);

            // Trigger animation
            setTimeout(() => {
                popup.classList.add('show');
            }, 100); // Small delay to allow rendering

            // Hide and remove after a few seconds
            setTimeout(() => {
                popup.classList.remove('show');
                popup.classList.add('hide');
                setTimeout(() => {
                    // Check if popup still exists before removing
                    if (popup.parentNode === popupContainer) {
                        popupContainer.removeChild(popup);
                    }
                }, 500); // Wait for hide animation
            }, 5000); // Show for 5 seconds
        }

        // Show a popup randomly every 8-15 seconds
        function schedulePopup() {
             // Clear previous interval if any to prevent duplicates on potential re-runs
             if (popupIntervalId) {
                 clearTimeout(popupIntervalId);
             }
             const delay = Math.random() * 7000 + 8000; // 8-15 seconds
             popupIntervalId = setTimeout(() => {
                 showFakeOrder();
                 schedulePopup(); // Schedule next one
             }, delay);
        }

        if (popupContainer) {
             schedulePopup(); // Start the popup cycle
        }

         // Add lazy loading to images
         document.addEventListener("DOMContentLoaded", function() {
            var lazyImages = [].slice.call(document.querySelectorAll("img[loading='lazy']"));

            if ("IntersectionObserver" in window) {
                let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
                entries.forEach(function(entry) {
                    if (entry.isIntersecting) {
                    let lazyImage = entry.target;
                    lazyImage.src = lazyImage.dataset.src || lazyImage.src; // Use data-src if available, otherwise use src
                    lazyImage.removeAttribute("loading"); // Optional: Remove loading attribute after load
                    lazyImageObserver.unobserve(lazyImage);
                    }
                });
                });

                lazyImages.forEach(function(lazyImage) {
                 lazyImageObserver.observe(lazyImage);
                });
            } else {
                // Fallback for browsers that don't support IntersectionObserver
                lazyImages.forEach(function(lazyImage) {
                    lazyImage.src = lazyImage.dataset.src || lazyImage.src;
                    lazyImage.removeAttribute("loading");
                });
            }

             // Ensure JS runs after DOM is ready
             if (timerElement && !timerInterval) {
                 updateTimer(); // Initial call
                 timerInterval = setInterval(updateTimer, 1000);
             }
             if (popupContainer && !popupIntervalId) {
                 schedulePopup();
             }
             if (citySelect && districtSelect && wardSelect && streetInput && finalAddressDiv) {
                 // Initial population if needed, or ensure event listeners are attached
                 if(citySelect.options.length <= 1) { // Populate only if not already populated
                    populateSelect(citySelect, Object.keys(addressData));
                 }
             }
         });


    </script>

</body>
</html>
